<section class="card">
  <div class="cardClip">

    <!-- HEADER -->
    <div class="card__header">

      <!-- IZQUIERDA: icono + titulo con toggle -->
      <div class="card__bar">
        <div class="iconBadge" aria-hidden="true">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
            viewBox="0 0 24 24" fill="none" stroke="currentColor"
            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path>
            <circle cx="9" cy="7" r="4"></circle>
            <path d="M22 21v-2a4 4 0 0 0-3-3.87"></path>
            <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
          </svg>
        </div>

        <button
          type="button"
          class="titleToggle"
          (click)="toggleProfile()"
          [attr.aria-expanded]="profileOpen"
          title="Mostrar/ocultar datos"
        >
          <span class="card__title">{{ title }}</span>
          <span class="caret" [class.rotate]="profileOpen">â–¾</span>
        </button>
      </div>

      <!-- DERECHA: acciones pequeÃ±as -->
      <div class="headerActions">

        <!-- Censo -->
        <button class="actionMini ghost" type="button" (click)="onViewCenso()">
          <span class="miniText">Ver censo acadÃ©mico</span>
        </button>

        <!-- Parciales -->
        <button class="actionMini ghost" type="button" (click)="onViewCalificaciones()">
          <span class="miniText">Ver Calificaciones Parciales</span>
        </button>

        <!-- PDF -->
        <a class="actionMini" [href]="pdfData.url" target="_blank" rel="noopener">
          <span class="miniIcon">ðŸ“„</span>
          <span class="miniText">{{ pdfData.title }}</span>
          <span class="miniMeta">{{ pdfData.size }}</span>
        </a>

      </div>
    </div>

    <!-- BODY -->
    <div class="card__body" [class.isHidden]="!profileOpen">

      <!-- CONTENIDO DEL PERFIL (se colapsa) -->
      <div class="profileWrap" [class.isOpen]="profileOpen">
        <div class="profileInner">
          <div class="profileGrid">

            <div class="profileLeft">
              <div class="avatarContainer">
                <img class="profileAvatar" [src]="employeeData.imageUrl" alt="Perfil UNAH" />
                <div class="statusDot"></div>
              </div>
            </div>

            <div class="profileRight">
              <div class="infoCard">
                <div class="kv">
                  <div class="k">No. Empleado:</div>
                  <div class="v">{{ employeeData.number }}</div>
                </div>

                <div class="kv">
                  <div class="k">Nombre:</div>
                  <div class="v">{{ employeeData.name }}</div>
                </div>

                <div class="kv">
                  <div class="k">Centro:</div>
                  <div class="v">{{ employeeData.center }}</div>
                </div>
              </div>
            </div>

          </div>
        </div>
      </div>
    </div>
  </div>
</section>
